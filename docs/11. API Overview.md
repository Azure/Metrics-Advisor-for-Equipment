# ⭐API Overview

>[!NOTE]
> Metrics Advisor for Equipment (Project Adel) is currently in private preview. Some features may not be supported or have limited capabilities.
The current API version is **2022-07-10-preview**.

| [REST API]() | [Python SDK]() |

Metrics Advisor for Equipment offers a full list of APIs, covering functionalities in:
* [datasets](##Datasets)
* [model training](##Models)
* [model evaluation](##Evaluations)
* [hook and alert configurations](##Hooks-and-Alert-Configurations)
* [streaming inference schedule](##Inference-Schedule).

Here are the **32 APIs** in Metrics Advisor for Equipment:


## **Datasets** (4 APIs)

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- | 
| PUT | `/datasets/{datasetName}` | Create a dataset for training, evaluation, or real-time inference.| 
| GET | `/datasets/{datasetName}` | Get dataset ianfo including data source type, data schema, data granularity, etc.| 
| GET | `/datasets[?skip][&maxpagesize][&sortBy][&orderBy]` | List models in a subscription. | 
| DELETE | `/datasets/{datasetName}` | Delete a dataset in a subscription. _This action doesn't delete the data in the source system._|


## **Models** (4 APIs)
| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- |  
| PUT | `/multivariate/models/{modelName}` | Create and train a model.| 
| GET | `/multivariate/models/{modelName}` | Get model info including training dataset, training time range(s), variables being used, training job status, etc.| 
| GET | `/multivariate/models[?skip][&maxpagesize][&sortBy][&orderBy][&status][&datasetNames][&topPerDataset]` | List models in a subscription. | 
| DELETE | `/multivariate/models/{modelName}` | Delete a model in a subscription.|


## **Evaluations** (4 APIs)

An evaluation is the process of using different dataset to test the performance a trained model. 

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- | 
| PUT | `/multivariate/evaluations/{evaluationName}` | Evaluate a trained model. | 
| GET | `/multivariate/evaluations/{evaluationName}` | Get model evaluation info including model evaluated, evaluation dataset, evaluation time range, evaluation job status, etc. | 
| GET | `/multivariate/evaluations[?skip][&maxpagesize][&sortBy][&orderBy][&status][&modelNames][&topPerModel]` | List model evaluations in a subscription. | 
| DELETE | `/multivariate/evaluations/{evaluationName}` | Delete an evaluation in a subscription. |


## **Hooks and Alert Configurations** (10 APIs)

A **hook** is a channel to receive alert notifications.

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- | 
| PUT | `/hooks/{hookName}` | Create a hook. | 
| GET | `/hooks/{hookName}` | Get hook info including hook type and associated set up details. | 
| GET | `/hooks[?skip][&maxapgesize][&sortBy][&orderBy]` | List hooks in a subscription. | 
| DELETE | `/hooks/{hookName}` | Delete a hook in a subscription. |
| PATCH | `/hooks/{hookName}` | Update a hook. _Updatable properties differ by hook type._|


An **alert configuration** allows users to set up criteria that determine which anomalies should trigger an alert and via which hook(s). This setting can later be applied to a streaming inference schedule.

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- | 
| PUT | `/alertConfigs/{alertConfigName}` | Create an alert configuration. | 
| GET | `/alertConfigs/{alertConfigName}` | Get alert configuration info including alert configuration type and associated settings. | 
| GET | `/alertConfigs[?skip][&maxapgesize][&sortBy][&orderBy]` | List alert configurations in a subscription. | 
| DELETE | `/alertConfigs/{alertConfigName}` | Delete an alert configuration in a subscription. |
| PATCH | `/alertConfigs/{alertConfigName}` | Update an alert configuration. _Updatable properties differ by alert configuraiton type._ | 


## **Inference Schedule** (10 APIs)

An **inference schedule** sets up a streaming inference pipeline to analyze incoming data in real-time.

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- | 
| PUT | `/inference/schedules/{scheduleName}` | Create an inference schedule.| 
| GET | `/inference/schedules/{scheduleName}` | Get inference schedule info including model used, dataset used, data delay offset (if applicable), schedule start time , alert configurations, etc.| 
| GET | `/inference/schedules[?skip][&maxpagesize][&sortBy][&orderBy][&status][&modelNames][&topPerModel]` | List inference schedules in a subscription. | 
| DELETE | `/inference/schedules/{scheduleName}` | Delete an inference schedule in a subscription.|
| PATCH | `/inference/schedules/{scheduleName}` | Pause/resume or update selected properties of an inference schedule. _Updatable properties: inference status, model to be inferenced with, data delay offset, alert configurations._| 
| GET | `/inference/schedules/{scheduleName}/getHistory` | Retrieve detected anomalies over a historical time period. |

A **replay** allows you to inference a historical time range with settings from an exiting inference schedule. The new anomaly detection results will **overwrite** the historical results in the replay time range but no alerts will be sent out.

| HTTP Method | API Path | Description | 
| ----------- | -------- | ----------- |  
| PUT | `/inference/replays/{replayName}` | Create a replay on an inference schedule.| 
| GET | `/inference/replays/{replayName}` | Get replay info including associated inference schedule, replay time range, replay job status, etc.| 
| GET | `/inference/replays[?skip][&maxpagesize][&sortBy][&orderBy][&status][&scheduleName][&topPerSchedule]` | List replay jobs in a subscription. | 
| DELETE | `/inference/replays/{replayName}` | Delete a replay job in a subscription. _This action doesn't revert the inference results in the replay time range._|